import{a as N,b as D}from"./chunk-CJ7A4323.js";import{a as V,b as L,c as B,d as T}from"./chunk-Z2P47XQY.js";import{f as E}from"./chunk-PPGZATS7.js";import{Da as C,Eb as S,Fb as I,Ha as f,Hb as h,Sa as p,Ta as o,Ua as t,Va as v,Wa as x,Xa as u,Ya as s,Z as m,_ as g,bb as a,cb as O,db as P,eb as w,fb as M,gb as k,ra as y,ta as l,xa as _}from"./chunk-SRUSGTWF.js";function W(n,r){if(n&1){let e=x();o(0,"img",3),u("click",function(){let i=m(e).$implicit,d=s();return g(d.select(i))}),t()}if(n&2){let e=r.$implicit;p("src",e,y)}}var b=class n{constructor(r){this.bg=r;this.images=this.bg.getSuggestions()}images;select(r){this.bg.setBackground(r)}static \u0275fac=function(e){return new(e||n)(_(N))};static \u0275cmp=C({type:n,selectors:[["app-background-selector"]],decls:5,vars:1,consts:[[1,"background-selector"],[1,"images"],[3,"src","click",4,"ngFor","ngForOf"],[3,"click","src"]],template:function(e,c){e&1&&(o(0,"div",0)(1,"p"),a(2,"Wallpaper ausw\xE4hlen"),t(),o(3,"div",1),f(4,W,1,1,"img",2),t()()),e&2&&(l(4),p("ngForOf",c.images))},dependencies:[h,S],styles:[".background-selector[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.background-selector[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.background-selector[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.background-selector[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:80px;object-fit:cover;cursor:pointer;border:2px solid transparent;border-radius:4px}.background-selector[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border-color:#ff4081}"]})};function R(n,r){if(n&1&&(o(0,"p",14),a(1),t()),n&2){let e=s(2);l(),O(e.message)}}function j(n,r){if(n&1){let e=x();o(0,"div",5)(1,"div",6)(2,"input",7),k("ngModelChange",function(i){m(e);let d=s();return M(d.username,i)||(d.username=i),g(i)}),t(),o(3,"input",8),k("ngModelChange",function(i){m(e);let d=s();return M(d.password,i)||(d.password=i),g(i)}),t(),o(4,"div",9)(5,"button",10),u("click",function(){m(e);let i=s();return g(i.loginUser())}),a(6,"Login"),t(),o(7,"button",10),u("click",function(){m(e);let i=s();return g(i.registerUser())}),a(8,"Registrieren"),t()(),f(9,R,2,1,"p",11),t(),o(10,"div",12),a(11,"oder"),t(),v(12,"div",13),t()}if(n&2){let e=s();l(2),w("ngModel",e.username),l(),w("ngModel",e.password),l(6),p("ngIf",e.message)}}function G(n,r){if(n&1){let e=x();o(0,"div",15)(1,"p"),a(2),t(),o(3,"button",10),u("click",function(){m(e);let i=s();return g(i.signOut())}),a(4,"Sign out"),t()()}if(n&2){let e=s();l(2),P("Welcome ",e.auth.user().username||"friend")}}var F=class n{constructor(r,e){this.auth=r;this.router=e}username="";password="";message="";ngAfterViewInit(){typeof google<"u"&&(google.accounts.id.initialize({client_id:import.meta.env.NG_APP_GOOGLE_CLIENT_ID||"GOOGLE_CLIENT_ID",callback:r=>{this.auth.setUser(r),this.router.navigate(["/bands"])}}),google.accounts.id.renderButton(document.getElementById("googleBtn"),{theme:"outline",size:"large"}))}loginUser(){this.auth.login(this.username,this.password)?this.router.navigate(["/bands"]):this.message="Invalid credentials"}registerUser(){this.auth.register(this.username,this.password)?(this.message="Registration successful. Please log in.",this.username="",this.password=""):this.message="Username already exists"}signOut(){this.auth.clearUser()}static \u0275fac=function(e){return new(e||n)(_(D),_(E))};static \u0275cmp=C({type:n,selectors:[["app-login"]],decls:8,vars:2,consts:[[1,"login-container"],[1,"title"],[1,"tagline"],["class","auth-box",4,"ngIf"],["class","profile",4,"ngIf"],[1,"auth-box"],[1,"local-login"],["type","text","placeholder","Benutzername",3,"ngModelChange","ngModel"],["type","password","placeholder","Passwort",3,"ngModelChange","ngModel"],[1,"buttons"],[3,"click"],["class","message",4,"ngIf"],[1,"divider"],["id","googleBtn"],[1,"message"],[1,"profile"]],template:function(e,c){e&1&&(o(0,"div",0)(1,"h1",1),a(2,"Konzertkompass"),t(),o(3,"p",2),a(4,"Finde deinen Rhythmus"),t(),f(5,j,13,3,"div",3)(6,G,5,1,"div",4),v(7,"app-background-selector"),t()),e&2&&(l(5),p("ngIf",!c.auth.user()),l(),p("ngIf",c.auth.user()))},dependencies:[h,I,T,V,L,B,b],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10vh;padding:2rem 3rem;background:#00000080;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:16px;box-shadow:0 0 20px #0009;text-align:center}.login-container[_ngcontent-%COMP%]:before{content:"\\266b";display:block;font-size:3rem;margin-bottom:.5rem;color:#ff4081}.title[_ngcontent-%COMP%]{margin:0;font-size:2.5rem}.tagline[_ngcontent-%COMP%]{margin:0 0 2rem;color:#ccc}.auth-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.local-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:250px}.local-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:.5rem 0;padding:.5rem;border:none;border-radius:4px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.divider[_ngcontent-%COMP%]{margin:1rem 0;color:#ccc}.message[_ngcontent-%COMP%]{color:#ff4081;margin-top:.5rem;font-size:.9rem}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;margin-bottom:1rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer}']})};export{F as LoginComponent};
